<!DOCTYPE HTML>
<html>

<head>
    <style type="text/css">
        ul {
            width: 200px;
            float: left;
        }
        .left{
            border: 1px #ccc solid;
        }
        .right{
            border: 1px #ccc solid;
        }
    </style>
</head>

<body>
    <div id="transfer">
        <input type="text" class="search" />
        <button class="searchBtn">搜索</button>
        <button class="refresh">刷新</button>
        <ul class="left">

        </ul>
        <button class="rightBtn">》》》</button>
        <button class="leftBtn">《《《</button>
        <button class="topBtn">上</button>
        <button class="bottomBtn">下</button>

        <ul class="right">

        </ul>
    </div>
</body>
<script src="../frame/jquery.js"></script>
<script>
    (function ($) {
        $.fn.transfer = function (data) {
            new Transfer(this,data)
        }
        function Transfer(el, data) {
            // 元素
            this.$el = el
            // 数据
            this.$data = data
            //左穿梭框
            this.$left = el.find('.left')
            //右穿梭框
            this.$right = el.find('.right')
            //初始化勾选数量
            this.leftCheckeds = 0
            this.rightCheckeds = 0
            //移动按钮
            this.$topBtn = el.find('.topBtn')
            this.$bottomBtn = el.find('.bottomBtn')
            this.$leftBtn = el.find('.leftBtn')
            this.$rightBtn = el.find('.rightBtn')
            this.init()
        }

        Transfer.prototype = {

            init: function () {
                this.disabled('rightBtn')
                this.disabled('leftBtn')
                this.disabled('topBtn')
                this.disabled('bottomBtn')
                this.load(this.$data,'left')

                this.$left.on('change',"input[type='checkbox']",function(){
                    
                })
            },

            //禁用按钮
            disabled: function (className) {
                this['$'+className].attr('disabled', 'disabled')
            },

            //解除禁用
            removeDisable: function (className) {
                this['$'+className].removeAttr('disabled')
            },

            //item工厂
            createItem: function (name) {
                var str = `<li><input type="checkbox"/> <span>${name}</span></li>`
                return str
            },
            //load
            load: function (list, id) {
                var arr = []
                list.forEach(element => {
                    arr.push(this.createItem(element.name))
                });
                this['$'+id].append(arr)
            }
        }
    })(jQuery)
    $('#transfer').transfer([
        {
            name: '王德发'
        },
        {
            name: '刘德华'
        },
        {
            name: '张学友'
        },
        {
            name: '黎明'
        }
    ])
</script>

</html>